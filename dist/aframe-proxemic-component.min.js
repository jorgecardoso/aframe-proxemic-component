(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory():typeof define==="function"&&define.amd?define(factory):factory()})(this,function(){"use strict";AFRAME.registerComponent("proximity-sensor",{schema:{distance:{default:1,min:0},target:{default:"a-camera"}},multiple:false,init:function(){this.triggered=false;this.el.sceneEl.addBehavior(this);console.log("Proximity Sensor.")},tick:function(){var target=this.el.sceneEl.querySelector(this.data.target);var targetPos=target.object3D.position;var thisPos=this.el.object3D.position;if(!this.triggered&&thisPos.distanceTo(targetPos)<this.data.distance){this.triggered=true;this.el.emit("playerenter");console.log("Player entered checkpoint")}else if(this.triggered&&thisPos.distanceTo(targetPos)>=this.data.distance){this.triggered=false;this.el.emit("playerleave");console.log("Player left checkpoint")}},update:function(oldData){},remove:function(){},pause:function(){},play:function(){}});AFRAME.registerComponent("lookat-sensor",{schema:{xRotMin:{default:-1},yRotMin:{default:-1},zRotMin:{default:-1},xRotMax:{default:361},yRotMax:{default:361},zRotMax:{default:361}},multiple:false,init:function(){this.triggered=false},tick:function(){var xDeg=THREE.Math.radToDeg(this.el.object3D.rotation.x)%360;var yDeg=THREE.Math.radToDeg(this.el.object3D.rotation.y)%360;var zDeg=THREE.Math.radToDeg(this.el.object3D.rotation.z)%360;if(!this.triggered&&xDeg>this.data.xRotMin&&xDeg<this.data.xRotMax&&yDeg>this.data.yRotMin&&yDeg<this.data.yRotMax&&zDeg>this.data.zRotMin&&zDeg<this.data.zRotMax){this.el.emit("lookat-sensor-enter");console.log("Player looked ");this.triggered=true}else if(this.triggered&&(xDeg<this.data.xRotMin||xDeg>this.data.xRotMax||yDeg<this.data.yRotMin||yDeg>this.data.yRotMax||zDeg<this.data.zRotMin||zDeg>this.data.zRotMax)){this.el.emit("lookat-sensor-leave");console.log("Player looked away");this.triggered=false}},update:function(oldData){},remove:function(){},pause:function(){},play:function(){}});if(typeof AFRAME==="undefined"){throw new Error("Component attempted to register before AFRAME was available.")}console.log("A-Frame Proxemic Component")});
